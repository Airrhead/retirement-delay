// 颜色映射
const typeColors = {
  '1': '#010750',  // 退休年龄
  '2': '#1d4c85',  // 养老金计算
  '3': '#6094b4',  // 养老保险管理
  '4': '#72b8a7',  // 养老保险缴费
  '5': '#99c6b0',  // 社会服务
  '6': '#c4d7d0'   // 专家、干部离退休安置
};

// 数据结构
const Data = {
  "groups": {
    "1951": {
      "id": "1951",
      "label": "《中华人民共和国劳动保险条例》第十五条"
    },
    "1955": {
      "id": "1955",
      "label": "《国家机关工作人员退休处理暂行办法》"
    },
    "1957": {
      "id": "1957",
      "label": "《关于工人、职员退休处理的暂行规定》"
    },
    "19781": {
      "id": "19781",
      "label": "《关于安置老弱病残干部的暂行办法》"
    },
    "19782": {
      "id": "19782",
      "label": "《关于工人退休、退职的暂行办法》"
    },
    "19831": {
      "id": "19831",
      "label": "《关于延长部分骨干教师、医生、科技人员退休年龄的通知》"
    },
    "19832": {
      "id": "19832",
      "label": "《关于高级专家离休退休若干问题的暂行规定》"
    },
    "1990": {
      "id": "1990",
      "label": "《关于高级专家退(离）休有关问题的通知》"
    },
    "1991": {
      "id": "1991",
      "label": "《关于企业职工基本养老保险制度改革的决定》"
    },
    "1995": {
      "id": "1995",
      "label": "《关于深化企业职工养老保险制度改革的通知》"
    },
    "1997": {
      "id": "1997",
      "label": "《关于建立统一的企业职工基本养老保险制度的决定》"
    },
    "1999": {
      "id": "1999",
      "label": "《社会保险费征缴暂行条例》"
    },
    "2004": {
      "id": "2004",
      "label": "《企业年金试行办法》"
    },
    "2005": {
      "id": "2005",
      "label": "《关于完善企业职工基本养老保险制度的决定》"
    },
    "2007": {
      "id": "2007",
      "label": "《劳动合同法》"
    },
    "2008": {
      "id": "2008",
      "label": "《劳动合同法实施条例》"
    },
    "2010": {
      "id": "2010",
      "label": "《社会保险法》"
    },
    "2022": {
      "id": "2022",
      "label": "《个人养老金实施办法》"
    },
    "2024": {
      "id": "2024",
      "label": "《国务院关于渐进式延迟法定退休年龄的办法》"
    }
  },
  "types": {
    "1": {
      "id": "1",
      "label": "退休年龄"
    },
    "2": {
      "id": "2",
      "label": "养老金计算"
    },
    "3": {
      "id": "3",
      "label": "养老保险管理"
    },
    "4": {
      "id": "4",
      "label": "养老保险缴费"
    },
    "5": {
      "id": "5",
      "label": "社会服务"
    },
    "6": {
      "id": "6",
      "label": "专家、干部离退休安置"
    }
  },
  "chains": [
    {
      "type": "1",
      "chain": [
        "1951.1",
        "1955.2",
        "1957.2",
        "19782.1",
        "2024.1"
      ]
    },
    {
      "type": "1",
      "chain": [
        "1951.3",
        "1951.4",
        "1957.2",
        "19782.1",
        "2024.8"
      ]
    },
    {
      "type": "1",
      "chain": [
        "19831.1",
        "19832.2",
        "1990.2",
        "1990.3"
      ]
    },
    {
      "type": "1",
      "chain": [
        "19832.2",
        "1990.1",
        "2024.3",
        "2024.4",
        "2024.6"
      ]
    },
    {
      "type": "2",
      "chain": [
        "1995.4",
        "1997.5",
        "2010.18",
        "2024.4"
      ]
    },
    {
      "type": "2",
      "chain": [
        "1951.1",
        "1955.3",
        "1957.4",
        "19781.5",
        "19782.2",
        "1997.5",
        "2010.15"
      ]
    },
    {
      "type": "3",
      "chain": [
        "1991.5",
        "1995.7",
        "1997.7",
        "2010.13",
        "2010.14"
      ]
    },
    {
      "type": "3",
      "chain": [
        "1991.11",
        "1997.6",
        "2005.3",
        "2010.10"
      ]
    },
    {
      "type": "3",
      "chain": [
        "1991.2",
        "1995.1",
        "1997.1",
        "1997.2",
        "2004.2",
        "2022.2"
      ]
    },
    {
      "type": "4",
      "chain": [
        "1991.4",
        "1995.3",
        "1997.3",
        "2010.12",
        "2024.2"
      ]
    },
    {
      "type": "5",
      "chain": [
        "19781.15",
        "1997.8",
        "1997.9",
        "2005.10",
        "2024.9"
      ]
    },
    {
      "type": "6",
      "chain": [
        "19831.1",
        "19832.2",
        "1990.2",
        "2024.7"
      ]
    },
    {
      "type": "6",
      "chain": [
        "19832.4",
        "1990.3",
        "1991.7",
        "1997.5"
      ]
    },
    {
      "type": "6",
      "chain": [
        "19781.4",
        "19831.1",
        "19832.2",
        "1990.2"
      ]
    }
  ],
  "nodes": {
    "1951.1": {
      "id": "1951.1",
      "content": "男工人与男职员年满六十岁,一般工龄已满二十五年,本企业工龄已满十年者,由劳动保险基金项下按其本企业工龄的长短,付给养老补助费,其数额为本人工资百分之三十五至百分之六十,至死亡时止。如因该企业工作的需要,商得本人同意,留其继续工作时,除应得工资外,每月付给在职养老补助费,其数额为本人工资百分之十至百分之二十。详细办法在实施细则中规定之",
      "group": "1951"
    },
    "1951.2": {
      "id": "1951.2",
      "content": "女工人与女职员年满五十岁,一般工龄满二十年,本企业工龄已满十年者,得享受甲款规定的养老补助费待遇",
      "group": "1951"
    },
    "1951.3": {
      "id": "1951.3",
      "content": "井下矿工或固定在华氏三十二度以下的低温或华氏一百度以上的高温工作场所工作者,男工人与男职员年满五十五岁,女工人与女职员年满四十五岁,均得享受甲款规定的养老补助费待遇。但计算其一般工龄及本企业工龄时,每在此种场所工作一年,均作一年零三个月计算",
      "group": "1951"
    },
    "1951.4": {
      "id": "1951.4",
      "content": "在提炼或制造铅、汞、砒、磷、酸及其他化学、兵工工业中直接从事有害身体健康工作者,男工人与男职员年满五十五岁,女工人与女职员年满四十五岁,均得享受甲款规定的养老补助费待遇。但计算其一般工龄及本企业工龄时,每从事此种工作一年,均作一年零六个月计算",
      "group": "1951"
    },
    "1955.1": {
      "id": "1955.1",
      "content": "国家机关工作人员(以下简称工作人员)的退休,按照本办法处理",
      "group": "1955"
    },
    "1955.2": {
      "id": "1955.2",
      "content": "工作人员具有下列条件之一的,可以退休\n（一）男子年满六十岁,女子年满五十五岁,工作年限已满五年,加上参加工作以前主要依靠工资生活的劳动年限,男子共满二十五年、女子共满二十年的\n（二）男子年满六十岁,女子年满五十五岁,工作年限已满十五年的\n（三）工作年限已满十年,因劳致疾丧失工作能力的\n（四）因公残废丧失工作能力的",
      "group": "1955"
    },
    "1955.3": {
      "id": "1955.3",
      "content": "工作人员退休后,按照下列标准,逐月发给退休金\n（一）符合本办法第二条(一)项条件的退休人员,工作年限满五年、不满十年的,发给本人工资(退休时的标准工资加退休后居住地点的物价津贴,下同)的50%;满十年、不满十五年的,发给本人工资的60%\n（二）符合本办法第二条(二)项、(三)项或(四)项条件的退休人员,发给本人工资的70%;符合本办法第二条(三)项或(四)项条件、工作年限在十五年以上的退休人员,发给本人工资的80%。 工作人员对革命有重大功绩,或者在参加工作以前长期从事科学、技术、文化、教育等事业,并且对社会有特殊贡献的,他们的退休金经过省(自治区、直辖市)人民委员会或者国务院批准可以酌量提高",
      "group": "1955"
    },
    "1955.4": {
      "id": "1955.4",
      "content": "工作人员退休时,工作年限的计算,按照“国务院关于处理国家机关工作人员退职、退休时计算工作年限的暂行规定”办理",
      "group": "1955"
    },
    "1955.5": {
      "id": "1955.5",
      "content": "工作人员的退休,必须经过任免机关批准。 工作人员退休时,由各级人事工作部门办理退休手续,填发“退休人员证明书”,并且同时通知其退休后居住地点的县级人民委员会予以登记",
      "group": "1955"
    },
    "1955.6": {
      "id": "1955.6",
      "content": "工作人员退休时,本人和他的家属到他退休后居住地点的车船费、行李费、途中伙食补助费和旅馆费,参照现行行政经费开支标准中有关的规定处理",
      "group": "1955"
    },
    "1955.7": {
      "id": "1955.7",
      "content": "工作人员退休后,他的退休金由他退休后居住地点的县级人民委员会在优抚费项下发给,到他死亡时为止",
      "group": "1955"
    },
    "1955.8": {
      "id": "1955.8",
      "content": "工作人员退休后死亡时,由他退休后居住地点的县级人民委员会在优抚费项下,一次加发本人三个月的退休金给他的家属,作为丧葬补助费",
      "group": "1955"
    },
    "1957.2": {
      "id": "1957.2",
      "content": "国营、公私合营的企业、事业单位和国家机关、人民团体（以下简称企业、机关）的工人、职员,符合下列条件之一的,应该退休\n（一）男工人、职员年满六十周岁,连续工龄满五年,一般工龄（包括连续工龄,下同）满二十年的;女工人年满五十周岁、女职员年满五十五周岁,连续工龄满五年,一般工龄满十五年的\n（二）从事井下、高空、高温、特别繁重体力劳动或者其他有损身体健康工作的工人、职员,男年满五十五周岁、女年满四十五周岁,其连续工龄和一般工龄又符合本条（一）项条件的\n（三）男年满五十周岁、女年满四十五周岁的工人、职员,连续工龄满五年,一般工龄满十五年,身体衰弱丧失劳动能力,经过劳动鉴定委员会确定或者医生证明不能继续工作的\n（四）连续工龄满五年,一般工龄满二十五年的工人、职员,身体衰弱丧失劳动能力,经过劳动鉴定委员会确定或者医生证明不能继续工作的\n（五）专职从事革命工作满二十年的工作人员,因身体衰弱不能继续工作而自愿退休的",
      "group": "1957"
    },
    "1957.3": {
      "id": "1957.3",
      "content": "符合本规定第二条（一）、（二）两项条件的工人、职员,如果因为工作需要,企业、机关可以继续留用。在本规定发布以后留用的这种工人、职员,都不加发在职养老补助费。在本规定发布前留用的这种工人、职员,如果今后仍然需要继续留用,其原来领取的在职养老补助费可以照旧发给",
      "group": "1957"
    },
    "1957.4": {
      "id": "1957.4",
      "content": "工人、职员退休以后,按月发给退休费,直至本人去世的时候为止。退休费的标准如下\n（一）符合本规定第二条（一）、（二）两项条件的工人、职员,连续工龄在五年以上不满十年的,为本人工资的百分之五十;十年以上不满十五年的,为本人工资的百分之六十;十五年以上的,为本人工资的百分之七十\n（二）符合本规定第二条（三）、（四）两项条件的工人、职员,连续工龄在五年以上不满十年的,为本人工资的百分之四十;十年以上不满十五年的,为本人工资的百分之五十;十五年以上的,为本人工资的百分之六十\n（三）符合本规定第二条（五）项的工作人员,为本人工资的百分之七十\n（四）对于社会有特殊贡献的工人、职员的退休费,可以酌情高于本条（一）、（二）、（三）三项的标准,但是提高的幅度最高不得超过本人工资的百分之十五,并且必须经过上级主管机关批准",
      "group": "1957"
    },
    "1957.5": {
      "id": "1957.5",
      "content": "工人、职员因工残废,经过劳动鉴定委员会确定或者医生证明完全丧失劳动能力的,也应该退休。退休后的待遇,在实行劳动保险条例的企业单位,仍然按照劳动保险条例的有关规定办理;在没有实行劳动保险条例的企业、机关,其退休费,饮食起居需人扶助的,按月发给本人工资的百分之七十五,饮食起居不需人扶助的,按月发给本人工资的百分之六十,直至本人去世的时候为止,其中对于社会有特殊贡献的,同样享受本规定第四条（四）项的待遇。 如果因公残废完全丧失劳动能力的工人、职员,符合本规定第二条（一）、（二）、（五）项条件,并且其应该领取的退休费的标准高于本条前款规定按月发给本人工资的百分之六十的时候,其退休费应该按照本规定第四条的规定发给",
      "group": "1957"
    },
    "1957.6": {
      "id": "1957.6",
      "content": "工人、职员退休的时候,本人和他们的供养直系亲属前往居住地点途中所需用的车船费、旅馆费、行李搬运费和伙食补助费,都按照本单位现行的行政经费开支的规定办理",
      "group": "1957"
    },
    "1957.7": {
      "id": "1957.7",
      "content": "退休人员本人,可以享受与他所居住的地方的国家机关工作人员相同的公费医疗待遇。医药费按照企业、机关现行的办法报销",
      "group": "1957"
    },
    "1957.8": {
      "id": "1957.8",
      "content": "退休人员去世以后,一次发给五十元至一百元的丧葬补助费;并且根据他供养的直系亲属人数的多少,一次发给相当于本人六至九个月的退休费总额的亲属抚恤费",
      "group": "1957"
    },
    "1957.9": {
      "id": "1957.9",
      "content": "本规定所说的连续工龄的计算办法:企业的工人、职员按照“劳动保险条例实施细则修正草案”计算本企业工龄的规定办理;事业单位、国家机关和人民团体的工作人员按照“国务院关于处理国家机关工作人员退职退休时计算工作年限的暂行规定”办理",
      "group": "1957"
    },
    "1957.10": {
      "id": "1957.10",
      "content": "本规定所说的本人工资,是指工人、职员退休前最后一个月的计时工资标准。凡在本规定发布以前已经具备本规定第二条所列退休条件的工人、职员,在当时并未退休而只调任轻便工作并且降低工资的,按照调动工作前最后一个月的计时工资标准计算;如果在具备退休条件以后的期间内调动工作不止一次的,按照第一次调动工作前最后一个月的计时工资标准计算",
      "group": "1957"
    },
    "1957.11": {
      "id": "1957.11",
      "content": "工人、职员退休,由企业、机关行政决定,取得同级工会同意以后执行。如果是领导人员退休,还必须报送任免机关批准。 有关退休的工龄计算,退休待遇标准的确定,填发退休人员证明书等工作,由企业、机关的人事部门会同同级工会办理",
      "group": "1957"
    },
    "1957.12": {
      "id": "1957.12",
      "content": "规定发给的各项费用,在实行劳动保险的企业单位,退休费、丧葬补助费和亲属抚恤费,由劳动保险基金中支付,如果本单位的劳动保险基金不敷开支,可以在本省、自治区、直辖市或者本产业系统内进行调剂,仍然不足的时候,差额部分由本单位行政支付。在没有实行劳动保险的企业单位,上述各项费用,全部由企业行政支付;在事业单位、国家机关和人民团体,全部由退休人员居住地方的县级民政部门另列预算支付",
      "group": "1957"
    },
    "1957.13": {
      "id": "1957.13",
      "content": "本规定同样适用于学校的教员、职员、工人,供销合作社的工人、职员和在军队中工作的无军籍的工人、职员;但是,不适用于手工业生产合作社、运输合作社和未定息的公私合营企业的人员",
      "group": "1957"
    },
    "1957.14": {
      "id": "1957.14",
      "content": "本规定自发布之日起施行。国务院发布的“国家机关工作人员退休处理暂行办法”同时废止。前政务院发布的“劳动保险条例”与本规定有抵触的,按照本规定执行。但是,过去已经退休现在继续领取退休费的人员,仍然按照原来的标准享受待遇",
      "group": "1957"
    },
    "19781.1": {
      "id": "19781.1",
      "content": "国务院各部门及其所属司局级机构,各省、市、自治区革命委员会及其所属部门,省辖市、行政公署一级领导机关及其所属部门,县（旗）革命委员会,相当于县级和县级以上的企业、事业单位,都可以根据情况设顾问,在同级党组织和革命委员会领导下,根据他们的特长做些力所能及的工作。各级顾问安排同级或高一级的干部担任。安排对象是:担任实职有困难,有斗争经验,尚能做一些工作,一九四九年九月底以前参加革命工作的地委正副书记、行政公署正副专员及相当职务以上的干部;一九四二年底以前参加革命工作的县委正副书记、革命委员会正副主任及相当职务的干部",
      "group": "19781"
    },
    "19781.2": {
      "id": "19781.2",
      "content": "各级政协、视察室、参事室、文物管理委员会、文史馆等单位,可以安排一些老同志担任荣誉职务。安排的对象是",
      "group": "19781"
    },
    "19781.3": {
      "id": "19781.3",
      "content": "对于丧失工作能力,一九三七年七月七日以前参加革命工作的干部,可以离职休养,工资照发",
      "group": "19781"
    },
    "19781.4": {
      "id": "19781.4",
      "content": "党政机关、群众团体、企业、事业单位的干部,符合下列条件之一的,都可以退休\n（一）男年满六十周岁,女年满五十五周岁,参加革命工作年限满十年的\n（二）男年满五十周岁,女年满四十五周岁,参加革命工作年限满十年,经过医院证明完全丧失工作能力的\n（三）因工致残,经过医院证明完全丧失工作能力的",
      "group": "19781"
    },
    "19781.5": {
      "id": "19781.5",
      "content": "干部退休以后,每月按下列标准发给退休费,直至去世为止。 符合第四条（一）项或（二）项条件,抗日战争时期参加革命工作的,按本人标准工资的百分之九十发给。解放战争时期参加革命工作的,按本人标准工资的百分之八十发给。中华人民共和国成立以后参加革命工作,工作年限满二十年的,按本人标准工资的百分之七十五发给;工作年限满十五年不满二十年的,按本人标准工资的百分之七十发给;工作年限满十年不满十五年的,按本人标准工资的百分之六十发给。退休费低于二十五元的,按二十五元发给。 符合第四条第（三）项条件,饮食起居需要人扶助的,按本人标准工资的百分之九十发给,还可以根据实际情况发给一定数额的护理费,护理费标准,一般不得超过一个普通工人的工资;饮食起居不需要人扶助的,按本人标准工资的百分之八十发给。同时具备两项以上的退休条件,应当按最高的标准发给。退休费低于三十五元的,按三十五元发给。 离休和退休的干部去世后,其丧事处理、丧葬补助费和供养直系亲属抚恤费,应当与在职去世的干部一样",
      "group": "19781"
    },
    "19781.7": {
      "id": "19781.7",
      "content": "经过医院证明完全丧失工作能力,又不具备退休条件的干部,应当退职。退职后,按月发给相当于本人标准工资百分之四十的生活费,低于二十元的,按二十元发给",
      "group": "19781"
    },
    "19781.8": {
      "id": "19781.8",
      "content": "离休、退休和退职的干部的安置,要面向农村和中小城镇。在大城市工作的,应当尽量安置到中小城镇和农村,也可以根据具体情况,到本人或爱人的原籍安置;在中小城镇和农村工作的,可以就地或回原籍中小城镇和农村安置。易地安置有实际困难的,也可以就地安置。跨省安置的,各有关省、市、自治区应当积极做好安置工作。对于其他省、市、自治区要求向北京、天津、上海安置的,要从严控制",
      "group": "19781"
    },
    "19781.9": {
      "id": "19781.9",
      "content": "离休、退休干部易地安家的,一般由原工作单位一次发给一百五十元的安家补助费,由大中城市到农村安家的,发给三百元。退职干部易地安家的,可以发给本人两个月的标准工资,作为安家补助费",
      "group": "19781"
    },
    "19781.10": {
      "id": "19781.10",
      "content": "离休干部的住房,就地安置的,由原单位负责解决;回原籍或到其他地区安置的,由接受安置的地区负责解决。确需修缮、扩建或新建住房的,由接受安置的省、市、自治区列入基建计划统一解决。 退休干部的住房,就地安置的,由原单位负责解决;回中小城镇安置的,其住房由接受安置的地区尽量从公房中调剂解决;确实不能调剂解决,需要修缮、扩建和新建住房的,也由接受安置的地区列入基建计划统一解决;回农村安置,住房确有困难的,可以由原单位给予适当补助。 离休或退休的干部确需修建住房的,其住房面积和标准,应当本着勤俭节约的原则,根据家庭人口和当地群众住房水平确定,不要脱离群众;自己有房屋可以居住的,不得另建新房",
      "group": "19781"
    },
    "19781.11": {
      "id": "19781.11",
      "content": "干部离休、退休、退职的时候,本人及其供养的直系亲属前往居住地点途中所需用的车船费、旅馆费、行李搬运费和伙食补助费,都按照现行的规定办理",
      "group": "19781"
    },
    "19781.12": {
      "id": "19781.12",
      "content": "离休、退休、退职干部本人,可以享受与所居住地区同级干部相同的公费医疗待遇",
      "group": "19781"
    },
    "19781.13": {
      "id": "19781.13",
      "content": "规定发给的退休费、退职生活费,企业单位,由企业行政支付。党政机关、群众团体和事业单位,就地安置的,由原工作单位负责;易地安置的,分别由负责管理的组织、人事和县级民政部门另列预算支付",
      "group": "19781"
    },
    "19781.14": {
      "id": "19781.14",
      "content": "干部离休、退休、退职,由所在单位按照干部管理权限报任免机关批准",
      "group": "19781"
    },
    "19781.15": {
      "id": "19781.15",
      "content": "各地区、各部门要加强对老弱病残干部安置工作的领导。党委的组织部门和革命委员会的人事、民政部门,要在党委和革命委员会的领导下,认真做好离休、退休干部的思想政治工作和管理工作。就地安置的,由原工作单位管理;易地安置的,分别由接受地区的组织、人事和民政部门管理。要注意安排他们学习马列和毛主席著作,按照规定阅读文件、听报告。要关心他们的身体健康和物质、文化生活。要及时研究解决离休、退休干部的实际困难,总结交流工作经验,表彰离休、退休干部中的好人好事",
      "group": "19781"
    },
    "19782.1": {
      "id": "19782.1",
      "content": "全民所有制企业、事业单位和党政机关、群众团体的工人,符合下列条件之一的,应该退休\n（一）男年满六十周岁,女年满五十周岁,连续工龄满十年的\n（二）从事井下、高空、高温、特别繁重体力劳动或者其他有害身体健康的工作,男年满五十五周岁、女年满四十五周岁,连续工龄满十年的。 本项规定也适用于工作条件与工人相同的基层干部\n（三）男年满五十周岁,女年满四十五周岁,连续工龄满十年,由医院证明,并经劳动鉴定委员会确认,完全丧失劳动能力的\n（四）因工致残,由医院证明,并经劳动鉴定委员会确认,完全丧失劳动能力的",
      "group": "19782"
    },
    "19782.2": {
      "id": "19782.2",
      "content": "工人退休以后,每月按下列标准发给退休费,直至去世为止\n（一）符合第一条（一）、（二）、（三）项条件,抗日战争时期参加革命工作的,按本人标准工资的百分之九十发给。解放战争时期参加革命工作的,按本人标准工资的百分之八十发给。中华人民共和国成立后参加革命工作的,连续工龄满二十年的,按本人标准工资的百分之七十五发给;连续工龄满十五年不满二十年的,按本人标准工资的百分之七十发给;连续工龄满十年不满十五年的,按本人标准工资的百分之六十发给。退休费低于二十五元的,按二十五元发给\n（二）符合第一条第（四）项条件,饮食起居需要人扶助的,按本人标准工资的百分之九十发给,还可以根据实际情况发给一定数额的护理费,护理费标准,一般不得超过一个普通工人的工资;饮食起居不需要人扶助的,按本人标准工资的百分之八十发给。同时具备两项以上的退休条件,应当按最高的标准发给。退休费低于三十五元的,按三十五元发给",
      "group": "19782"
    },
    "19782.3": {
      "id": "19782.3",
      "content": "患二、三期矽肺病离职休养的工人,如果本人自愿,也可以退休。退休费按本人标准工资的百分之九十发给,并享受原单位矽肺病人在离职休养期间的待遇。 患二、三期矽肺病离职休养的干部,也可以按照本条的办法执行",
      "group": "19782"
    },
    "19782.4": {
      "id": "19782.4",
      "content": "获得全国劳动英雄、劳动模范称号,在退休时仍然保持其荣誉的工人;省、市、自治区革命委员会认为在革命和建设中有特殊贡献的工人;部队军以上单位授予战斗英雄称号的转业、复员军人,在退休时仍保持其荣誉的,其退休费可以酌情高于本办法所定标准的百分之五至百分之十五,但提高标准后退休费,不得超过本人原标准工资",
      "group": "19782"
    },
    "19782.5": {
      "id": "19782.5",
      "content": "不具备退休条件,由医院证明,并经劳动鉴定委员会确认,完全丧失劳动能力的工人,应该退职。退职后,按月发给相当于本人标准工资百分之四十的生活费,低于二十元的,按二十元发给",
      "group": "19782"
    },
    "19782.6": {
      "id": "19782.6",
      "content": "退休工人易地安家的,一般由原单位一次发给一百五十元的安家补助费,从大中城市到农村安家的,发给三百元。退职工人易地安家的,可以发给相当于本人两个月标准工资的安家补助费",
      "group": "19782"
    },
    "19782.7": {
      "id": "19782.7",
      "content": "工人退休、退职的时候,本人及其供养的直系亲属前往居住地点途中所需要的车船费、旅馆费、行李搬运费和伙食补助费,都按照现行的规定办理",
      "group": "19782"
    },
    "19782.8": {
      "id": "19782.8",
      "content": "退休、退职工人本人,可以继续享受公费医疗待遇",
      "group": "19782"
    },
    "19782.9": {
      "id": "19782.9",
      "content": "工人的退休费、退职生活费,企业单位,由企业行政支付;党政机关、群众团体和事业单位,由退休、退职工人居住地方的县级民政部门另列预算支付",
      "group": "19782"
    },
    "19782.10": {
      "id": "19782.10",
      "content": "工人退休、退职后,家庭生活确实困难的,或多子女上山下乡、子女就业少的,原则上可以招收其一名符合招工条件的子女参加工作。招收的子女,可以是按政策规定留城的知识青年,可以是上山下乡知识青年,也可以是城镇应届中学毕业生。 我国农业生产水平还比较低,粮食还没有过关,对增加城镇和其他吃商品粮的人口,必须严加控制。因此,家居农村的退休、退职工人,应尽量回到农村安置,本人户口迁回农村的,也可以招收他们在农村的一名符合招工条件的子女参加工作;退休、退职工人回农村后,其口粮由所在生产队供应。 招收退休、退职工人的子女,应当由当地劳动部门统一安排。招收子女的具体办法,由省、市、自治区根据上述原则结合本地区的实际情况自行规定",
      "group": "19782"
    },
    "19782.11": {
      "id": "19782.11",
      "content": "工人退休、退职后,不要继续留在全民所有制单位。他们到城镇街道、农村社队后,街道组织和社队要加强对他们的管理教育,关心他们的生活,注意发挥他们的积极作用。街道、社队集体所有制单位如果需要退休、退职工人从事力所能及的工作,可以付给一定的报酬,但连同本人退休费或退职生活费在内,不能超过本人在职时的标准工资。 对于单身在外地工作的工人,退休、退职后要求迁到家属所在地居住的,迁入地区应当准予落户",
      "group": "19782"
    },
    "19782.12": {
      "id": "19782.12",
      "content": "各地区、各部门、各单位要切实加强对工人退休、退职工作的领导。对应该退休、退职的工人,要做好深入细致的思想政治工作,动员他们退休、退职。退休、退职工作要分期分批进行。要严格掌握退休、退职条件和招工条件,防止因招收退休、退职工人子女而任意扩大退休、退职范围和降低招工质量",
      "group": "19782"
    },
    "19782.13": {
      "id": "19782.13",
      "content": "集体所有制企业、事业单位工人的退休、退职,由省、市、自治区革命委员会参照本办法,结合本地区集体所有制单位的实际情况,自行制定具体办法,其各项待遇,不得高于本办法所定的标准",
      "group": "19782"
    },
    "19782.14": {
      "id": "19782.14",
      "content": "过去有关工人退休、退职的规定与本办法不一致的,按本办法执行。已按有关规定办理了退休的工人,其退休费标准低于本办法所定标准的,自本办法下达之月起,改按本办法规定的标准发给,但解放战争时期参加革命工作,连续工龄不满二十年的,只按本人标准工资的百分之七十五发给。改变退休费标准后的差额部分一律不予补发。已按有关规定办理了退职的工人,其待遇一律不再变动",
      "group": "19782"
    },
    "19831.1": {
      "id": "19831.1",
      "content": "为了充分发挥现有骨干专业技术人员的作用,促进教育、卫生、科学技术事业的发展,并考虑到脑力劳动的特点,决定在一九九０年前,对在上述单位工作的讲师、主治医师、工程师、农艺师、助理研究员以及具有高等院校、中等专业学校（含中等师范学校）和高中毕业学历或经严格考核取得同等学力的、教学经验丰富的中、小学教师中,确因工作需要,身体能够坚持正常工作,有较强的业务能力,本人又愿意继续工作的,经所在单位报请县一级以上主管机关严格审查批准,可将他们的退休年龄延长一至五年,延长后的退休年龄,女同志最长不得超过六十周岁,男同志最长不得超过六十五周岁。不符合上述条件的其他人员的退休年龄,仍按国家统一规定执行",
      "group": "19831"
    },
    "19831.2": {
      "id": "19831.2",
      "content": "上述延长退休年龄的人员中,担任行政领导职务或管理职务的,在达到国家统一规定的退休年龄时,一般应当免去其行政领导职务或管理职务,使他们集中精力继续从事专业工作",
      "group": "19831"
    },
    "19831.3": {
      "id": "19831.3",
      "content": "本通知下达前已经退休的不再复职。如确因工作需要,本人愿意且身体健康的,各单位可临时聘请他们工作。聘请条件及受聘人员待遇按国家有关规定办理",
      "group": "19831"
    },
    "19831.4": {
      "id": "19831.4",
      "content": "本通知由劳动人事部负责解释",
      "group": "19831"
    },
    "19832.1": {
      "id": "19832.1",
      "content": "本规定所称高级专家,系指:正副教授、正副研究员、高级工程师、高级农艺师、正副主任医师、正副编审、正副译审、正副研究馆员、高级经济师、高级统计师、高级会计师、特级记者、高级记者、高级工艺美术师,以及文艺六级以上的专家",
      "group": "19832"
    },
    "19832.2": {
      "id": "19832.2",
      "content": "高级专家离休退休年龄,一般应按国家统一规定执行。对其中少数高级专家,确因工作需要,身体能够坚持正常工作,征得本人同意,经下述机关批准,其离休退休年龄可以适当延长: 副教授、副研究员以及相当这一级职称的高级专家,经所在单位报请上一级主管机关批准,可以适当延长离休退休年龄,但最长不超过六十五周岁; 教授、研究员以及相当这一级职称的高级专家,经所在单位报请省、市、自治区人民政府或中央、国家机关的部委批准,可以延长离休退休年龄,但最长不超过七十周岁; 学术上造诣高深、在国内外有重大影响的杰出高级专家,经国务院批准,可以暂缓离休退休,继续从事研究或著述工作",
      "group": "19832"
    },
    "19832.3": {
      "id": "19832.3",
      "content": "延长离休退休年龄的高级专家中,担任行政领导职务或管理职务的,在达到国家统一规定的离休退休年龄时,应当免去其行政领导职务或管理职务,使他们集中精力继续从事科学技术或文化艺术等工作。特殊情况经过任免机关批准的除外",
      "group": "19832"
    },
    "19832.4": {
      "id": "19832.4",
      "content": "高级专家离休退休的待遇,按国家统一规定办理。符合以下情况的,退休费标准可以适当提高: 有重大贡献的高级专家,经省、市、自治区人民政府或中央、国家机关的部委批准,其退休费标准可以酌情提高 5%—15%。提高标准后的退休费,不得超过本人原标准工资; 建国后从国外或者从香港、澳门、台湾回来定居工作的高级专家,其退休费均按建国后参加革命工作退休干部的最高标准发给。其中有重大贡献的,再按本条第 (一) 项规定提高退休费",
      "group": "19832"
    },
    "19832.5": {
      "id": "19832.5",
      "content": "高级专家离休退休后,如身体尚好,可以接受部门或单位的聘请,担任科学技术或文化艺术顾问,也可以直接承担业务工作。聘请离休退休高级专家应签订聘请合同,聘请条件和受聘人员待遇按国家有关规定办理",
      "group": "19832"
    },
    "19832.6": {
      "id": "19832.6",
      "content": "各单位和各部门要认真执行国务院关于干部离休退休后政治、生活待遇的有关规定,对离休退休的高级专家应体贴关怀,热情爱护;要积极主动地帮助他们继续进行科学研究、资料整理、著书立说等工作,为他们的业务活动提供必要的方便",
      "group": "19832"
    },
    "19832.7": {
      "id": "19832.7",
      "content": "本规定自发布之日起施行。本规定发布以前,已经离休退休的高级专家,不再复职",
      "group": "19832"
    },
    "19832.8": {
      "id": "19832.8",
      "content": "本规定由劳动人事部负责解释",
      "group": "19832"
    },
    "1990.1": {
      "id": "1990.1",
      "content": "高级专家退（离）休,仍按照《国务院关于高级专家离休退休若干问题的暂行规定》（国发〖1983〗141 号）和《劳动人事部关于印发两个“说明”的通知》（劳人科〖1983〗153号）中的附件一执行",
      "group": "1990"
    },
    "1990.2": {
      "id": "1990.2",
      "content": "女性高级专家,凡身体能坚持正常工作,本人自愿,可到六十周岁退（离）休。对年满六十周岁的少数女性高级专家,确因工作需要延长退（离）休年龄的,按国发〖1983〗141号和劳人科〖1983〗153号文件规定执行",
      "group": "1990"
    },
    "1990.3": {
      "id": "1990.3",
      "content": "国发〖1983〗141 号文件中的少数高级专家“确因工作需要”延长退（离）休年龄,主要是指以下几种情况,已承担的重要工作（如重点攻关科研项目）和带博士研究生等任务尚未完成,退（离）休后将对工作带来较大影响的;特殊专业和新学科、重点学科急需的;技术力量薄弱的单位确系工作需要的;在业务上起把关作用或在学科中起带头作用、退（离）休后尚无人接替的",
      "group": "1990"
    },
    "1990.4": {
      "id": "1990.4",
      "content": "高级专家的退（离）休工作是一项政策性很强的工作,应严格按政策规定办事。要从实际出发,根据单位的工作任务,专业技术队伍的结构,以及高级专家身体健康状况等情况确定其退（离）休。高级专家退（离）休时,所在单位的领导要事先同本人谈话,做好思想工作,鼓励其退（离）休后继续为四化建设贡献力量",
      "group": "1990"
    },
    "1990.5": {
      "id": "1990.5",
      "content": "本通知自下发之日起执行,凡已退（离）休的高级专家,不再重新办理,但要注意发挥他们的作用",
      "group": "1990"
    },
    "1991.1": {
      "id": "1991.1",
      "content": "根据我国生产力发展水平和人口众多且老龄化发展迅速的情况,企业职工养老保险制度改革要处理好国家利益、集体利益和个人利益,利益和长远利益,整体利益和局部利益的关系,主要是对现行的制度办法进行调整、完善。考虑到各地区和企业的情况不同,各省、自治区、直辖市人民政府可以根据国家的统一政策,对职工养老保险作出具体规定,允许不同地区、企业之间存在一定的差别",
      "group": "1991"
    },
    "1991.2": {
      "id": "1991.2",
      "content": "随着经济的发展,逐步建立起基本养老保险与企业补充养老保险和职工个人储蓄性养老保险相结合的制度。改变养老保险完全由国家、企业包下来的办法,实行国家、企业、个人三方共同负担,职工个人也要缴纳一定的费用",
      "group": "1991"
    },
    "1991.3": {
      "id": "1991.3",
      "content": "基本养老保险基金由政府根据支付费用的实际需要和企业、职工的承受能力,按照以支定收、略有结余、留有部分积累的原则统一筹集。具体的提取比例和积累率,由省、自治区、直辖市人民政府经实际测算后确定,并报国务院备案",
      "group": "1991"
    },
    "1991.4": {
      "id": "1991.4",
      "content": "企业和职工个人缴纳的基本养老保险费分别记入《职工养老保险手册》。 企业缴纳的基本养老保险费,按本企业职工工资总额和当地政府规定的比例在税前提取,由企业开户银行按月代为扣缴。企业逾期不缴,要按规定加收滞纳金。滞纳金并入基本养老保险基金。职工个人缴纳基本养老保险费,在调整工资的基础上逐步实行,缴费标准开始时可不超过本人标准工资的3%,以后随着经济的发展和职工工资的调整再逐步提高。职工个人缴纳的基本养老保险费,由企业在发放工资时代为收缴",
      "group": "1991"
    },
    "1991.5": {
      "id": "1991.5",
      "content": "企业和职工个人缴纳的基本养老保险费转入社会保险管理机构在银行开设的“养老保险基金专户”,实行专项储存,专款专用,任何单位和个人均不得擅自动用。银行应按规定提取“应付未付利息”;对存入银行的基金,按其存期照人民银行规定的同期城乡居民储蓄存款利率计息,所得利息并入基金。积累基金的一部分可以购买国家债券。地方各级政府要设立养老保险基金委员会,实施对养老保险基金管理的指导和监督。委员会由政府主管领导任主任,劳动、财政、计划、审计、银行、工会等部门的负责同志参加,办公室设在劳动部门",
      "group": "1991"
    },
    "1991.6": {
      "id": "1991.6",
      "content": "职工退休后的基本养老金计发办法不作变动,今后可结合工资制度改革,通过增加标准工资在工资总额中的比重,逐步提高养老金的数额。国家根据城镇居民生活费用价格指数增长情况,参照在职职工工资增长情况对基本养老金进行适当调整,所需费用从基本养老保险基金中开支",
      "group": "1991"
    },
    "1991.7": {
      "id": "1991.7",
      "content": "尚未实行基本养老保险基金省级统筹的地区,要积极创造条件,由市、县统筹逐步过渡到省级统筹。实行省级统筹后,原有固定职工和劳动合同制职工的养老保险基金要逐步按统一比例提取,合并调剂使用。具体办法由各省、自治区、直辖市人民政府制定。中央部属企业,除国家另有规定者外,都要参加所在地区的统筹",
      "group": "1991"
    },
    "1991.8": {
      "id": "1991.8",
      "content": "企业补充养老保险由企业根据自身经济能力,为本企业职工建立,所需费用从企业自有资金中的奖励、福利基金内提取。个人储蓄性养老保险由职工根据个人收入情况自愿参加。国家提倡、鼓励企业实行补充养老保险和职工参加个人储蓄性养老保险,并在政策上给予指导。同时,允许试行将个人储蓄性养老保险与企业补充养老保险挂钩的办法。补充养老保险基金,由社会保险管理机构按国家技术监督局发布的社会保障号码（国家标准GB11643－89）记入职工个人帐户",
      "group": "1991"
    },
    "1991.9": {
      "id": "1991.9",
      "content": "劳动部和地方各级劳动部门负责管理城镇企业（包括不在城镇的全民所有制企业）职工的养老保险工作。劳动部门所属的社会保险管理机构,是非营利性的事业单位,经办基本养老保险和企业补充养老保险的具体业务,并受养老保险基金委员会委托,管理养老保险基金。现已由人民保险公司经办的养老保险业务,可以维持现状不作变动。个人储蓄性养老保险由职工个人自愿选择经办机构",
      "group": "1991"
    },
    "1991.10": {
      "id": "1991.10",
      "content": "社会保险管理机构可从养老保险基金中提取一定的管理服务费,具体的提取比例根据实际工作需要和节约的原则,由当地劳动部门提出,经同级财政部门审核,报养老保险基金委员会批准。管理服务费主要用于支付必要的行政和业务等费用。养老保险基金及管理服务费,不计征税、费。 社会保险管理机构应根据国家的政策规定,建立健全基金管理的各项制度,编制养老保险基金和管理服务费收支的预、决算,报当地人民政府在预算中列收列支,并接受财政、审计、银行和工会的监督",
      "group": "1991"
    },
    "1991.11": {
      "id": "1991.11",
      "content": "本决定适用于全民所有制企业。城镇集体所有制企业可以参照执行;对外商投资企业中方职工、城镇私营企业职工和个体劳动者,也要逐步建立养老保险制度。具体办法由各省、自治区、直辖市人民政府制定",
      "group": "1991"
    },
    "1991.12": {
      "id": "1991.12",
      "content": "国家机关、事业单位和农村（含乡镇企业）的养老保险制度改革,分别由人事部、民政部负责,具体办法另行制定。 企业职工养老保险制度改革,是保障退休职工生活,维护社会安定的一项重要措施,对减轻国家和企业负担,促进经济体制改革以及合理引导消费有重要作用。这项工作政策性强,涉及面广,各级政府要切实加强领导,根据本决定的精神,结合实际抓紧制定具体的实施方案,积极稳妥地推进企业职工养老保险制度的改革",
      "group": "1991"
    },
    "1995.1": {
      "id": "1995.1",
      "content": "企业职工养老保险制度改革的目标是:到本世纪末,基本建立起适应社会主义市场经济体制要求,适用城镇各类企业职工和个体劳动者,资金来源多渠道、保障方式多层次、社会统筹与个人帐户相结合、权利与义务相对应、管理服务社会化的养老保险体系。基本养老保险应逐步做到对各类企业和劳动者统一制度、统一标准、统一管理和统一调剂使用基金",
      "group": "1995"
    },
    "1995.2": {
      "id": "1995.2",
      "content": "深化企业职工养老保险制度改革的原则是:保障水平要与我国社会生产力发展水平及各方面的承受能力相适应;社会互济与自我保障相结合,公平与效率相结合;政策统一,管理法制化;行政管理与保险基金管理分开",
      "group": "1995"
    },
    "1995.3": {
      "id": "1995.3",
      "content": "基本养老保险费用由企业和个人共同负担,实行社会统筹与个人帐户相结合。在理顺分配关系,加快个人收入工资化、工资货币化进程的基础上,逐步提高个人缴费比例。提高个人缴费比例的幅度,由各省、自治区、直辖市人民政府根据本地区职工工资增长等情况确定。为适应各地区的不同情况,对实行社会统筹与个人帐户相结合提出两个实施办法,由地、市（不含县级市）提出选择意见报省、自治区人民政府批准,直辖市由市人民政府选择,均报劳动部备案。各地区还可以结合本地实际,对两个实施办法进行修改完善",
      "group": "1995"
    },
    "1995.4": {
      "id": "1995.4",
      "content": "为了保障企业离退休人员基本生活,各地区应当建立基本养老金正常调整机制。基本养老金可按当地职工上一年度平均工资增长率的一定比例进行调整,具体办法在国家政策指导下由省、自治区、直辖市人民政府确定",
      "group": "1995"
    },
    "1995.5": {
      "id": "1995.5",
      "content": "国家在建立基本养老保险、保障离退休人员基本生活的同时,鼓励建立企业补充养老保险和个人储蓄性养老保险。企业按规定缴纳基本养老保险费后,可以在国家政策指导下,根据本单位经济效益情况,为职工建立补充养老保险。企业补充养老保险和个人储蓄性养老保险,由企业和个人自主选择经办机构",
      "group": "1995"
    },
    "1995.6": {
      "id": "1995.6",
      "content": "各地区应充分考虑到养老保险制度改革是一件涉及长远的大事,对企业与个人缴纳养老保险费的比例、发放养老金的标准和基金积累率等问题,要从我国生产力水平比较低、人口众多且老龄化问题日益突出等实际情况出发,兼顾国家、企业、个人三者利益,兼顾眼前利益和长远利益,在充分测算论证的基础上进行统筹安排。要严格控制基本养老保险费的收缴比例和基本养老金的发放水平,减轻企业和国家的负担",
      "group": "1995"
    },
    "1995.7": {
      "id": "1995.7",
      "content": "要根据国家有关规定建立健全养老保险基金的预算管理和财务、会计制度,做好缴费记录和个人帐户等基础工作,严格控制管理费的提取和使用,坚持专款专用原则,切实搞好基金管理,确保基金的安全并努力实现其保值增值。当前,养老保险基金的结余额,除留足两个月的支付费用外,百分之八十左右应用于购买由国家发行的社会保险基金特种定向债券,任何单位和个人不得自行决定基金的其他用途。养老保险基金营运所得收益,全部并入基金并免征税费",
      "group": "1995"
    },
    "1995.8": {
      "id": "1995.8",
      "content": "各地区和有关部门应积极创造条件,提高养老保险管理服务的社会化程度,逐步将企业发放养老金改为社会化发放,技术条件和基础工作较好的地区,可以实行由银行或者邮局直接发放;暂不具备条件的地区,可以由社会保险经办机构发放。社会保险经办机构也可以通过在大型企业设立派出机构等办法,对企业离退休人员进行管理服务。同时要充分发挥各方面的积极性,逐步将主要由企业管理离退休人员转为主要依托社区进行管理,提高社会化管理水平,切实减轻企业负担",
      "group": "1995"
    },
    "1995.9": {
      "id": "1995.9",
      "content": "要实行社会保险行政管理与基金管理分开、执行机构与监督机构分设的管理体制。社会保险行政管理部门的主要任务是制订政策、规划,加强监督、指导。管理社会保险基金一律由社会保险经办机构负责。各地区和有关部门要设立由政府代表、企业代表、工会代表和离退休人员代表组成的社会保险监督委员会,加强对社会保险政策、法规执行情况和基金管理工作的监督",
      "group": "1995"
    },
    "1995.10": {
      "id": "1995.10",
      "content": "已经国务院批准,由国务院有关部门和单位直接组织养老保险费用统筹的企业,仍参加主管部门和单位组织的统筹,但要按照社会统筹与个人帐户相结合的原则进行改革",
      "group": "1995"
    },
    "1995.11": {
      "id": "1995.11",
      "content": "全国城镇企业职工养老保险工作由劳动部负责指导、监督,深化企业职工养老保险制度改革的工作亦由劳动部负责推动。国家体改委要积极参与,可选择一些地方进行深化改革的试点,劳动部要积极给予支持。国家计委、国家经贸委、财政部、中国人民银行等有关部门也应按照各自的职责协同配合,搞好深化改革的工作",
      "group": "1995"
    },
    "1997.1": {
      "id": "1997.1",
      "content": "到本世纪末,要基本建立起适应社会主义市场经济体制要求,适用城镇各类企业职工和个体劳动者,资金来源多渠道、保障方式多层次、社会统筹与个人帐户相结合、权利与义务相对应、管理服务社会化的养老保险体系。企业职工养老保险要贯彻社会互济与自我保障相结合、公平与效率相结合、行政管理与基金管理分开等原则,保障水平要与我国社会生产力发展水平及各方面的承受能力相适应",
      "group": "1997"
    },
    "1997.2": {
      "id": "1997.2",
      "content": "各级人民政府要把社会保险事业纳入本地区国民经济与社会发展计划,贯彻基本养老保险只能保障退休人员基本生活的原则,把改革企业职工养老保险制度与建立多层次的社会保障体系紧密结合起来,确保离退休人员基本养老金和失业人员失业救济金的发放,积极推行城市居民最低生活保障制度。为使离退休人员的生活随着经济与社会发展不断得到改善,体现按劳分配原则和地区发展水平及企业经济效益的差异,各地区和有关部门要在国家政策指导下大力发展企业补充养老保险,同时发挥商业保险的补充作用",
      "group": "1997"
    },
    "1997.3": {
      "id": "1997.3",
      "content": "企业缴纳基本养老保险费（以下简称企业缴费）的比例,一般不得超过企业工资总额的20%（包括划入个人帐户的部分）,具体比例由省、自治区、直辖市人民政府确定。少数省、自治区、直辖市因离退休人数较多、养老保险负担过重,确需超过企业工资总额20%的,应报劳动部、财政部审批。个人缴纳基本养老保险费（以下简称个人缴费）的比例,1997年不得低于本人缴费工资的4%,1998年起每两年提高1个百分点,最终达到本人缴费工资的8%。有条件的地区和工资增长较快的年份,个人缴费比例提高的速度应适当加快",
      "group": "1997"
    },
    "1997.4": {
      "id": "1997.4",
      "content": "按本人缴费工资11%的数额为职工建立基本养老保险个人帐户,个人缴费全部记入个人帐户,其余部分从企业缴费中划入。随着个人缴费比例的提高,企业划入的部分要逐步降至3%。个人帐户储存额,每年参考银行同期存款利率计算利息。个人帐户储存额只用于职工养老,不得提前支取。职工调动时,个人帐户全部随同转移。职工或退休人员死亡,个人帐户中的个人缴费部分可以继承",
      "group": "1997"
    },
    "1997.5": {
      "id": "1997.5",
      "content": "本决定实施后参加工作的职工,个人缴费年限累计满15年的,退休后按月发给基本养老金。基本养老金由基础养老金和个人帐户养老金组成。退休时的基础养老金月标准为省、自治区、直辖市或地（市）上年度职工月平均工资的20%,个人帐户养老金月标准为本人帐户储存额除以120。个人缴费年限累计不满15年的,退休后不享受基础养老金待遇,其个人帐户储存额一次支付给本人。 本决定实施前已经离退休的人员,仍按国家原来的规定发给养老金,同时执行养老金调整办法。各地区和有关部门要按照国家规定进一步完善基本养老金正常调整机制,认真抓好落实。 本决定实施前参加工作、实施后退休且个人缴费和视同缴费年限累计满15年的人员,按照新老办法平稳衔接、待遇水平基本平衡等原则,在发给基础养老金和个人帐户养老金的基础上再确定过渡性养老金,过渡性养老金从养老保险基金中解决。具体办法,由劳动部会同有关部门制订并指导实施",
      "group": "1997"
    },
    "1997.6": {
      "id": "1997.6",
      "content": "进一步扩大养老保险的覆盖范围,基本养老保险制度要逐步扩大到城镇所有企业及其职工。城镇个体劳动者也要逐步实行基本养老保险制度,其缴费比例和待遇水平由省、自治区、直辖市人民政府参照本决定精神确定",
      "group": "1997"
    },
    "1997.7": {
      "id": "1997.7",
      "content": "抓紧制定企业职工养老保险基金管理条例,加强对养老保险基金的管理。基本养老保险基金实行收支两条线管理,要保证专款专用,全部用于职工养老保险,严禁挤占挪用和挥霍浪费。基金结余额,除预留相当于2个月的支付费用外,应全部购买国家债券和存入专户,严格禁止投入其他金融和经营性事业。要建立健全社会保险基金监督机构,财政、审计部门要依法加强监督,确保基金的安全",
      "group": "1997"
    },
    "1997.8": {
      "id": "1997.8",
      "content": "为有利于提高基本养老保险基金的统筹层次和加强宏观调控,要逐步由县级统筹向省或省授权的地区统筹过渡。待全国基本实现省级统筹后,原经国务院批准由有关部门和单位组织统筹的企业,参加所在地区的社会统筹",
      "group": "1997"
    },
    "1997.9": {
      "id": "1997.9",
      "content": "提高社会保险管理服务的社会化水平,尽快将由企业发放养老金改为社会化发放,积极创造条件将离退休人员的管理服务工作逐步由企业转向社会,减轻企业的社会事务负担。各级社会保险机构要进一步加强基础建设,改进和完善服务与管理工作,不断提高工作效率和服务质量,促进养老保险制度的改革",
      "group": "1997"
    },
    "1997.10": {
      "id": "1997.10",
      "content": "实行企业化管理的事业单位,原则上按照企业养老保险制度执行",
      "group": "1997"
    },
    "1999.3": {
      "id": "1999.3",
      "content": "基本养老保险费的征缴范围:国有企业、城镇集体企业、外商投资企业、城镇私营企业和其他城镇企业及其职工,实行企业化管理的事业单位及其职工。 基本医疗保险费的征缴范围:国有企业、城镇集体企业、外商投资企业、城镇私营企业和其他城镇企业及其职工,国家机关及其工作人员,事业单位及其职工,民办非企业单位及其职工,社会团体及其专职人员。 失业保险费的征缴范围:国有企业、城镇集体企业、外商投资企业、城镇私营企业和其他城镇企业及其职工,事业单位及其职工。 省、自治区、直辖市人民政府根据当地实际情况,可以规定将城镇个体工商户纳入基本养老保险、基本医疗保险的范围,并可以规定将社会团体及其专职人员、民办非企业单位及其职工以及有雇工的城镇个体工商户及其雇工纳入失业保险的范围。 社会保险费的费基、费率依照有关法律、行政法规和国务院的规定执行",
      "group": "1999"
    },
    "1999.4": {
      "id": "1999.4",
      "content": "缴费单位、缴费个人应当按时足额缴纳社会保险费。 征缴的社会保险费纳入社会保险基金,专款专用,任何单位和个人不得挪用",
      "group": "1999"
    },
    "1999.5": {
      "id": "1999.5",
      "content": "国务院劳动保障行政部门负责全国的社会保险费征缴管理和监督检查工作。县级以上地方各级人民政府劳动保障行政部门负责本行政区域内的社会保险费征缴管理和监督检查工作",
      "group": "1999"
    },
    "1999.6": {
      "id": "1999.6",
      "content": "社会保险费实行三项社会保险费集中、统一征收。社会保险费的征收机构由省、自治区、直辖市人民政府规定,可以由税务机关征收,也可以由劳动保障行政部门按照国务院规定设立的社会保险经办机构（以下简称社会保险经办机构）征收",
      "group": "1999"
    },
    "2004.1": {
      "id": "2004.1",
      "content": "为建立多层次的养老保险制度,更好地保障企业职工退休后的生活,完善社会保障体系,根据劳动法和国务院的有关规定,制定本办法",
      "group": "2004"
    },
    "2004.2": {
      "id": "2004.2",
      "content": "本办法所称企业年金,是指企业及其职工在依法参加基本养老保险的基础上, 自愿建立的补充养老保险制度。建立企业年金,应当按照本办法的规定执行",
      "group": "2004"
    },
    "2005.1": {
      "id": "2005.1",
      "content": "完善企业职工基本养老保险制度的指导思想和主要任务",
      "group": "2005"
    },
    "2005.2": {
      "id": "2005.2",
      "content": "确保基本养老金按时足额发放",
      "group": "2005"
    },
    "2005.3": {
      "id": "2005.3",
      "content": "扩大基本养老保险覆盖范围。城镇各类企业职工、个体工商户和灵活就业人员都要参加企业职工基本养老保险。当前及今后一个时期,要以非公有制企业、城镇个体工商户和灵活就业人员参保工作为重点,扩大基本养老保险覆盖范围。要进一步落实国家有关社会保险补贴政策,帮助就业困难人员参保缴费。城镇个体工商户和灵活就业人员参加基本养老保险的缴费基数为当地上年度在岗职工平均工资,缴费比例为20%,其中8%记入个人账户,退休后按企业职工基本养老金计发办法计发基本养老金",
      "group": "2005"
    },
    "2005.4": {
      "id": "2005.4",
      "content": "逐步做实个人账户",
      "group": "2005"
    },
    "2005.5": {
      "id": "2005.5",
      "content": "加强基本养老保险基金征缴与监管",
      "group": "2005"
    },
    "2005.6": {
      "id": "2005.6",
      "content": "改革基本养老金计发办法",
      "group": "2005"
    },
    "2005.7": {
      "id": "2005.7",
      "content": "建立基本养老金正常调整机制",
      "group": "2005"
    },
    "2005.8": {
      "id": "2005.8",
      "content": "加快提高统筹层次",
      "group": "2005"
    },
    "2005.9": {
      "id": "2005.9",
      "content": "发展企业年金",
      "group": "2005"
    },
    "2005.10": {
      "id": "2005.10",
      "content": "做好退休人员社会化管理服务工作",
      "group": "2005"
    },
    "2005.11": {
      "id": "2005.11",
      "content": "不断提高社会保险管理服务水平",
      "group": "2005"
    },
    "2007.44": {
      "id": "2007.44",
      "content": "有下列情形之一的,劳动合同终止\n（二）劳动者开始依法享受基本养老保险待遇的",
      "group": "2007"
    },
    "2008.21": {
      "id": "2008.21",
      "content": "劳动者达到法定退休年龄的,劳动合同终止",
      "group": "2008"
    },
    "2010.10": {
      "id": "2010.10",
      "content": "职工应当参加基本养老保险,由用人单位和职工共同缴纳基本养老保险费。 无雇工的个体工商户、未在用人单位参加基本养老保险的非全日制从业人员以及其他灵活就业人员可以参加基本养老保险,由个人缴纳基本养老保险费。 公务员和参照公务员法管理的工作人员养老保险的办法由国务院规定",
      "group": "2010"
    },
    "2010.11": {
      "id": "2010.11",
      "content": "基本养老保险实行社会统筹与个人账户相结合。 基本养老保险基金由用人单位和个人缴费以及政府补贴等组成",
      "group": "2010"
    },
    "2010.12": {
      "id": "2010.12",
      "content": "用人单位应当按照国家规定的本单位职工工资总额的比例缴纳基本养老保险费,记入基本养老保险统筹基金。 职工应当按照国家规定的本人工资的比例缴纳基本养老保险费,记入个人账户。 无雇工的个体工商户、未在用人单位参加基本养老保险的非全日制从业人员以及其他灵活就业人员参加基本养老保险的,应当按照国家规定缴纳基本养老保险费,分别记入基本养老保险统筹基金和个人账户",
      "group": "2010"
    },
    "2010.13": {
      "id": "2010.13",
      "content": "国有企业、事业单位职工参加基本养老保险前,视同缴费年限期间应当缴纳的基本养老保险费由政府承担。 基本养老保险基金出现支付不足时,政府给予补贴",
      "group": "2010"
    },
    "2010.14": {
      "id": "2010.14",
      "content": "个人账户不得提前支取,记账利率不得低于银行定期存款利率,免征利息税。个人死亡的,个人账户余额可以继承",
      "group": "2010"
    },
    "2010.15": {
      "id": "2010.15",
      "content": "基本养老金由统筹养老金和个人账户养老金组成。 基本养老金根据个人累计缴费年限、缴费工资、当地职工平均工资、个人账户金额、城镇人口平均预期寿命等因素确定",
      "group": "2010"
    },
    "2010.16": {
      "id": "2010.16",
      "content": "参加基本养老保险的个人,达到法定退休年龄时累计缴费满十五年的,按月领取基本养老金。 参加基本养老保险的个人,达到法定退休年龄时累计缴费不足十五年的,可以缴费至满十五年,按月领取基本养老金;也可以转入新型农村社会养老保险或者城镇居民社会养老保险,按照国务院规定享受相应的养老保险待遇",
      "group": "2010"
    },
    "2010.17": {
      "id": "2010.17",
      "content": "参加基本养老保险的个人,因病或者非因工死亡的,其遗属可以领取丧葬补助金和抚恤金;在未达到法定退休年龄时因病或者非因工致残完全丧失劳动能力的,可以领取病残津贴。所需资金从基本养老保险基金中支付",
      "group": "2010"
    },
    "2010.18": {
      "id": "2010.18",
      "content": "国家建立基本养老金正常调整机制。根据职工平均工资增长、物价上涨情况,适时提高基本养老保险待遇水平",
      "group": "2010"
    },
    "2010.19": {
      "id": "2010.19",
      "content": "个人跨统筹地区就业的,其基本养老保险关系随本人转移,缴费年限累计计算。个人达到法定退休年龄时,基本养老金分段计算、统一支付。具体办法由国务院规定",
      "group": "2010"
    },
    "2010.20": {
      "id": "2010.20",
      "content": "国家建立和完善新型农村社会养老保险制度。 新型农村社会养老保险实行个人缴费、集体补助和政府补贴相结合",
      "group": "2010"
    },
    "2010.21": {
      "id": "2010.21",
      "content": "新型农村社会养老保险待遇由基础养老金和个人账户养老金组成。 参加新型农村社会养老保险的农村居民,符合国家规定条件的,按月领取新型农村社会养老保险待遇",
      "group": "2010"
    },
    "2010.22": {
      "id": "2010.22",
      "content": "国家建立和完善城镇居民社会养老保险制度。 省、自治区、直辖市人民政府根据实际情况,可以将城镇居民社会养老保险和新型农村社会养老保险合并实施",
      "group": "2010"
    },
    "2022.2": {
      "id": "2022.2",
      "content": "个人养老金是指政府政策支持、个人自愿参加、市场化运营、实现养老保险补充功能的制度。个人养老金实行个人账户制,缴费完全由参加人个人承担,自主选择购买符合规定的储蓄存款、理财产品、商业养老保险、公募基金等金融产品（以下统称个人养老金产品）,实行完全积累,按照国家有关规定享受税收优惠政策",
      "group": "2022"
    },
    "2022.3": {
      "id": "2022.3",
      "content": "本实施办法适用于个人养老金的参加人、人力资源社会保障部组织建设的个人养老金信息管理服务平台（以下简称信息平台）、金融行业平台、参与金融机构和相关政府部门等。 个人养老金的参加人应当是在中国境内参加城镇职工基本养老保险或者城乡居民基本养老保险的劳动者。金融行业平台为金融监管部门组织建设的业务信息平台。参与金融机构包括经中国银行保险监督管理委员会确定开办个人养老金资金账户业务的商业银行（以下简称商业银行）,以及经金融监管部门确定的个人养老金产品发行机构和销售机构",
      "group": "2022"
    },
    "2022.8": {
      "id": "2022.8",
      "content": "参加人每年缴纳个人养老金额度上限为12000元,参加人每年缴费不得超过该缴费额度上限。人力资源社会保障部、财政部根据经济社会发展水平、多层次养老保险体系发展情况等因素适时调整缴费额度上限",
      "group": "2022"
    },
    "2022.12": {
      "id": "2022.12",
      "content": "个人养老金资金账户封闭运行,参加人达到以下任一条件的,可以按月、分次或者一次性领取个人养老金\n（一）达到领取基本养老金年龄\n（二）完全丧失劳动能力\n（三）出国（境）定居\n（四）国家规定的其他情形",
      "group": "2022"
    },
    "2024.1": {
      "id": "2024.1",
      "content": "从2025年1月1日起,男职工和原法定退休年龄为五十五周岁的女职工,法定退休年龄每四个月延迟一个月,分别逐步延迟至六十三周岁和五十八周岁;原法定退休年龄为五十周岁的女职工,法定退休年龄每二个月延迟一个月,逐步延迟至五十五周岁。国家另有规定的,从其规定",
      "group": "2024"
    },
    "2024.2": {
      "id": "2024.2",
      "content": "从2030年1月1日起,将职工按月领取基本养老金最低缴费年限由十五年逐步提高至二十年,每年提高六个月。职工达到法定退休年龄但不满最低缴费年限的,可以按照规定通过延长缴费或者一次性缴费的办法达到最低缴费年限,按月领取基本养老金",
      "group": "2024"
    },
    "2024.3": {
      "id": "2024.3",
      "content": "职工达到最低缴费年限,可以自愿选择弹性提前退休,提前时间最长不超过三年,且退休年龄不得低于女职工五十周岁、五十五周岁及男职工六十周岁的原法定退休年龄。职工达到法定退休年龄,所在单位与职工协商一致的,可以弹性延迟退休,延迟时间最长不超过三年。国家另有规定的,从其规定。实施中不得违背职工意愿,违法强制或者变相强制职工选择退休年龄",
      "group": "2024"
    },
    "2024.4": {
      "id": "2024.4",
      "content": "国家健全养老保险激励机制。鼓励职工长缴多得、多缴多得、晚退多得。基础养老金计发比例与个人累计缴费年限挂钩,基础养老金计发基数与个人实际缴费挂钩,个人账户养老金根据个人退休年龄、个人账户储存额等因素确定",
      "group": "2024"
    },
    "2024.5": {
      "id": "2024.5",
      "content": "国家实施就业优先战略,促进高质量充分就业。完善就业公共服务体系,健全终身职业技能培训制度。支持青年人就业创业,强化大龄劳动者就业岗位开发,完善困难人员就业援助制度。加强对就业年龄歧视的防范和治理,激励用人单位吸纳更多大龄劳动者就业",
      "group": "2024"
    },
    "2024.6": {
      "id": "2024.6",
      "content": "用人单位招用超过法定退休年龄的劳动者,应当保障劳动者获得劳动报酬、休息休假、劳动安全卫生、工伤保障等基本权益。 国家加强灵活就业和新就业形态劳动者权益保障。 国家完善带薪年休假制度",
      "group": "2024"
    },
    "2024.7": {
      "id": "2024.7",
      "content": "对领取失业保险金且距法定退休年龄不足一年的人员,领取失业保险金年限延长至法定退休年龄,在实施渐进式延迟法定退休年龄期间,由失业保险基金按照规定为其缴纳养老保险费",
      "group": "2024"
    },
    "2024.8": {
      "id": "2024.8",
      "content": "国家规范完善特殊工种等提前退休政策。从事井下、高空、高温、特别繁重体力劳动等国家规定的特殊工种,以及在高海拔地区工作的职工,符合条件的可以申请提前退休",
      "group": "2024"
    },
    "2024.9": {
      "id": "2024.9",
      "content": "国家建立居家社区机构相协调、医养康养相结合的养老服务体系,大力发展普惠托育服务体系",
      "group": "2024"
    }
  }
};

document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM加载完成');
    if (typeof echarts === 'undefined') {
        console.error('ECharts未加载');
        document.getElementById('error').style.display = 'block';
        document.getElementById('error').textContent = 'ECharts库加载失败';
        return;
    }
    
    // 加载数据并初始化图表
    console.log('开始加载数据...');
    fetch('policy_data.json')
        .then(response => {
            console.log('收到响应:', response.status);
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            console.log('数据加载成功:', Object.keys(data));
            if (!data.groups || !data.chains || !data.nodes || !data.types) {
                // 如果加载失败，使用示例数据
                console.log('使用示例数据');
                data = Data;
            }
            initChart(data);
        })
        .catch(error => {
            console.error('加载数据时出错:', error);
            console.log('使用示例数据');
            initChart(Data);
        });
});

function initChart(data) {
    try {
        console.log('初始化图表...');
        const chartDom = document.getElementById('policy_lines');
        if (!chartDom) {
            throw new Error('找不到图表容器元素');
        }
        
        const chart = echarts.init(chartDom);
        console.log('ECharts实例创建成功');
        
        // 处理数据
        const years = Object.keys(data.groups).map(id => ({
            id,
            year: id.length === 5 ? id.substring(0, 4) : id.split('_')[0],
            label: data.groups[id].label
        }));
        
        console.log('处理的年份数据:', years);
        
        // 获取所有年份并排序
        const activeYears = new Set();
        const yearMapping = new Map(); // 用于存储年份映射关系
        
        // 首先从groups中获取所有年份，并建立映射关系
        Object.keys(data.groups).forEach(yearId => {
            // 提取基本年份（前4位）
            const baseYear = yearId.substring(0, 4);
            yearMapping.set(yearId, baseYear);
            activeYears.add(baseYear);
        });

        // 然后从chains中获取额外的年份
        data.chains.forEach(chain => {
            chain.chain.forEach(nodeId => {
                const yearId = nodeId.split('.')[0];
                const baseYear = yearId.substring(0, 4);
                yearMapping.set(yearId, baseYear);
                activeYears.add(baseYear);
            });
        });

        // 将年份转换为数组并排序
        const sortedYears = Array.from(activeYears).sort((a, b) => parseInt(a) - parseInt(b));

        // 计算年份位置
        const yearPositions = {};
        sortedYears.forEach((year, index) => {
            yearPositions[year] = index;
            // 同时为带后缀的年份ID创建相同的位置
            Array.from(yearMapping.entries())
                .filter(([yearId, baseYear]) => baseYear === year)
                .forEach(([yearId]) => {
                    yearPositions[yearId] = index;
                });
        });

        // 检查 yearPositions 对象
        console.log('Year positions:', yearPositions);

        // 布局参数
        const containerWidth = chartDom.clientWidth;
        const containerHeight = chartDom.clientHeight;
        
        // 根据容器大小动态计算间距
        const horizontalSpacing = Math.max(250, containerWidth / (sortedYears.length + 1)); // 水平间距，确保最小间距
        const chainVerticalSpacing = Math.max(150, containerHeight / (data.chains.length + 2)); // 链间垂直间距
        const verticalTitleSpacing = 80; // 标题间距
        const nodesStartY = Math.max(200, containerHeight * 0.2); // 节点起始Y坐标
        const columnWidth = horizontalSpacing * 0.7; // 列宽
        const verticalOffset = 50; // 节点垂直偏移量

        // 为每个链创建独立的垂直通道
        const chainLanes = new Map(); // 存储每个链的垂直位置
        data.chains.forEach((chain, index) => {
            chainLanes.set(index, nodesStartY + index * chainVerticalSpacing);
        });

        // 创建节点类型映射
        const nodeTypes = new Map();
        data.chains.forEach(chain => {
            chain.chain.forEach(nodeId => {
                nodeTypes.set(nodeId, chain.type);
            });
        });

        // 准备节点和边数据
        const nodes = [];
        const links = [];
        const processedNodes = new Set();

        // 为每个年份创建标题节点
        sortedYears.forEach((year, index) => {
            const isEven = index % 2 === 0;
            const baseX = index * horizontalSpacing;

            // 获取该年份的所有政策标题
            const yearPolicies = Object.entries(data.groups)
                .filter(([id]) => id.startsWith(year))
                .map(([_, group]) => group.label)
                .join('\n');

            // 创建年份节点
            nodes.push({
                id: `year_${year}`,
                name: year,
                value: year,
                x: baseX,
                y: isEven ? 50 : 130,
                symbolSize: 0,  // 设置为0以隐藏符号
                itemStyle: {
                    color: 'transparent'  // 设置为透明
                },
                label: {
                    show: true,
                    position: 'top',
                    formatter: '{b}',
                    fontSize: 16,
                    fontWeight: 'bold',
                    color: '#000'
                }
            });

            // 创建隐藏的政策标题节点
            nodes.push({
                id: `label_${year}`,
                name: yearPolicies,
                value: yearPolicies,
                x: baseX,
                y: isEven ? 130 : 50,
                symbolSize: 0,
                itemStyle: {
                    color: 'transparent'
                },
                label: {
                    show: false  // 隐藏政策标题
                }
            });
        });

        // 处理节点
        data.chains.forEach((chain, chainIndex) => {
            const chainY = chainLanes.get(chainIndex);
            const type = chain.type;
            const color = typeColors[type];

            chain.chain.forEach((nodeId, nodeIndex) => {
                const yearId = nodeId.split('.')[0];
                
                // 检查年份是否存在
                if (!yearPositions.hasOwnProperty(yearId)) {
                    console.warn(`Year position not found for node ${nodeId} (year ${yearId})`);
                    return;
                }
                
                const baseX = yearPositions[yearId] * horizontalSpacing;
                const node = data.nodes[nodeId];
                if (!node) {
                    console.warn(`Node data not found for ${nodeId}`);
                    return;
                }

                // 为每个链中的节点创建一个新的节点对象
                const chainNodeId = `${nodeId}_chain${chainIndex}`;
                const nodeSize = 16; // 节点大小
                nodes.push({
                    id: chainNodeId,
                    originalId: nodeId,
                    name: '',
                    value: node.content,
                    x: baseX,
                    y: chainY,  // 所有节点在同一水平线上
                    symbolSize: nodeSize,
                    itemStyle: {
                        color: color,
                        borderWidth: 2,
                        borderColor: '#fff'
                    }
                });

                // 如果不是第一个节点，添加一条连接线
                if (nodeIndex > 0) {
                    const prevNodeId = `${chain.chain[nodeIndex - 1]}_chain${chainIndex}`;
                    links.push({
                        source: prevNodeId,
                        target: chainNodeId,
                        lineStyle: {
                            color: color,
                            width: 24,  // 增加线条宽度，比节点直径略粗
                            type: 'solid',
                            curveness: 0,  // 完全直线
                            join: 'round',
                            cap: 'round'
                        }
                    });
                }
            });
        });

        // 检查节点和边的数据结构
        console.log('Nodes:', nodes);
        console.log('Links:', links);

        // 配置项
        const option = {
            title: {
                show: false
            },
            tooltip: {
                formatter: function(params) {
                    // 只处理有originalId的节点
                    if (!params.data.originalId) {
                        return '';
                    }

                    const yearId = params.data.originalId.split('.')[0];
                    const policyName = data.groups[yearId].label;
                    const content = params.data.value.split('\n').join('<br/>');

                    // 将数字转换为中文数字
                    const toChineseNum = (num) => {
                        const chineseNums = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九', '十'];
                        if (num <= 10) return chineseNums[num];
                        if (num < 20) return '十' + (num % 10 === 0 ? '' : chineseNums[num % 10]);
                        return chineseNums[Math.floor(num / 10)] + '十' + (num % 10 === 0 ? '' : chineseNums[num % 10]);
                    };

                    // 获取条号
                    const parts = params.data.originalId.split('.');
                    let articleText;
                    
                    // 如果是1951年的政策，只显示款号
                    if (yearId === '1951') {
                        const clauseNum = parts[1];
                        articleText = `第${toChineseNum(parseInt(clauseNum))}款`;
                    } else {
                        const articleNum = parts[1];
                        articleText = `第${toChineseNum(parseInt(articleNum))}条`;
                    }

                    return `<div style="text-align: left; max-width: 400px; white-space: normal; word-wrap: break-word;">
                        <b style="font-size: 14px;">${policyName}${articleText}</b><br/><br/>
                        ${content}
                    </div>`;
                },
                textStyle: {
                    align: 'left'
                }
            },
            legend: {
                show: true,
                bottom: 20,
                orient: 'horizontal',
                itemGap: 50,  // 增加图例项之间的间距
                left: 'center',  // 水平居中
                right: 'center',
                width: '90%',  // 使用容器的90%宽度
                itemWidth: 25,  // 图例标记的宽度
                itemHeight: 14,  // 图例标记的高度
                textStyle: {
                    fontSize: 14  // 图例文字大小
                },
                data: [
                    { name: '退休年龄', itemStyle: { color: typeColors['1'] } },
                    { name: '养老金计算', itemStyle: { color: typeColors['2'] } },
                    { name: '养老保险管理', itemStyle: { color: typeColors['3'] } },
                    { name: '养老保险缴费', itemStyle: { color: typeColors['4'] } },
                    { name: '社会服务', itemStyle: { color: typeColors['5'] } },
                    { name: '专家、干部离退休安置', itemStyle: { color: typeColors['6'] } }
                ]
            },
            grid: {
                top: 100
            },
            xAxis: {
                show: false
            },
            yAxis: {
                show: false
            },
            series: [
                {
                    type: 'graph',
                    layout: 'none',
                    symbolSize: 16,
                    roam: false,
                    categories: [
                        { name: '退休年龄' },
                        { name: '养老金计算' },
                        { name: '养老保险管理' },
                        { name: '养老保险缴费' },
                        { name: '社会服务' },
                        { name: '专家、干部离退休安置' }
                    ],
                    label: {
                        show: false
                    },
                    edgeSymbol: ['none', 'none'],
                    edgeSymbolSize: [4, 10],
                    data: nodes,
                    links: links,
                    lineStyle: {
                        opacity: 0.9,
                        width: 24,
                        type: 'solid',
                        curveness: 0,
                        join: 'round',
                        cap: 'round'
                    }
                }
            ]
        };
        
        // 设置图表
        console.log('设置图表选项...');
        chart.setOption(option);
        console.log('图表设置完成');
        
        // 响应窗口大小变化
        window.addEventListener('resize', () => {
            const newWidth = chartDom.clientWidth;
            const newHeight = chartDom.clientHeight;
            
            // 重新计算布局参数
            const newHorizontalSpacing = Math.max(250, newWidth / (sortedYears.length + 1));
            const newChainVerticalSpacing = Math.max(150, newHeight / (data.chains.length + 2));
            
            // 更新节点位置
            nodes.forEach(node => {
                if (node.x !== undefined) {
                    const yearIndex = yearPositions[node.originalId?.split('.')[0]] || 0;
                    node.x = yearIndex * newHorizontalSpacing;
                }
                if (node.y !== undefined && node.originalId) {
                    const chainIndex = parseInt(node.id.split('chain')[1]);
                    if (!isNaN(chainIndex)) {
                        node.y = nodesStartY + chainIndex * newChainVerticalSpacing;
                    }
                }
            });
            
            // 更新图表
            option.series[0].data = nodes;
            chart.setOption(option);
            chart.resize();
        });
    } catch (error) {
        console.error('初始化图表时出错:', error);
        document.getElementById('error').style.display = 'block';
        document.getElementById('error').textContent = '初始化图表时出错: ' + error.message;
    }
}